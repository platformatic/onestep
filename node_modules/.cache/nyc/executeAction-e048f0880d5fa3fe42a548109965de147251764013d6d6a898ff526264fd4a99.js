'use strict';function cov_16rfy9yh9p(){var path="/Users/ivan-tymoshenko/projects/platformatic/onestep/tests/executeAction.js";var hash="c1b6c1b9db2db226f0b39f906c5ce0157fc76639";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/ivan-tymoshenko/projects/platformatic/onestep/tests/executeAction.js",statementMap:{"0":{start:{line:3,column:19},end:{line:3,column:32}},"1":{start:{line:4,column:17},end:{line:4,column:32}},"2":{start:{line:5,column:28},end:{line:5,column:50}},"3":{start:{line:7,column:42},end:{line:7,column:64}},"4":{start:{line:10,column:21},end:{line:10,column:62}},"5":{start:{line:12,column:23},end:{line:12,column:67}},"6":{start:{line:13,column:25},end:{line:13,column:72}},"7":{start:{line:14,column:2},end:{line:14,column:59}},"8":{start:{line:16,column:2},end:{line:16,column:38}},"9":{start:{line:17,column:2},end:{line:17,column:45}},"10":{start:{line:19,column:2},end:{line:26,column:3}},"11":{start:{line:20,column:26},end:{line:20,column:49}},"12":{start:{line:21,column:4},end:{line:21,column:25}},"13":{start:{line:23,column:4},end:{line:23,column:24}},"14":{start:{line:25,column:4},end:{line:25,column:47}},"15":{start:{line:29,column:0},end:{line:29,column:5}}},fnMap:{"0":{name:"run",decl:{start:{line:9,column:15},end:{line:9,column:18}},loc:{start:{line:9,column:22},end:{line:27,column:1}},line:9}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c1b6c1b9db2db226f0b39f906c5ce0157fc76639"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_16rfy9yh9p=function(){return actualCoverage;};}return actualCoverage;}cov_16rfy9yh9p();const{tmpdir}=(cov_16rfy9yh9p().s[0]++,require('os'));const{join}=(cov_16rfy9yh9p().s[1]++,require('path'));const{mkdtemp,cp,rm}=(cov_16rfy9yh9p().s[2]++,require('fs/promises'));const{createRepository,setupAction}=(cov_16rfy9yh9p().s[3]++,require('./helper.js'));async function run(){cov_16rfy9yh9p().f[0]++;const fixtureDir=(cov_16rfy9yh9p().s[4]++,join(__dirname,'fixtures','repository'));const actionFolder=(cov_16rfy9yh9p().s[5]++,await mkdtemp(join(tmpdir(),'action_env_')));const repositoryPath=(cov_16rfy9yh9p().s[6]++,await mkdtemp(join(actionFolder,'repository')));cov_16rfy9yh9p().s[7]++;await cp(fixtureDir,repositoryPath,{recursive:true});cov_16rfy9yh9p().s[8]++;await createRepository(actionFolder);cov_16rfy9yh9p().s[9]++;setupAction({projectDir:repositoryPath});cov_16rfy9yh9p().s[10]++;try{const executeAction=(cov_16rfy9yh9p().s[11]++,require('../action.js'));cov_16rfy9yh9p().s[12]++;await executeAction();}catch(error){cov_16rfy9yh9p().s[13]++;console.error(error);}finally{cov_16rfy9yh9p().s[14]++;await rm(actionFolder,{recursive:true});}}cov_16rfy9yh9p().s[15]++;run();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0bXBkaXIiLCJyZXF1aXJlIiwiam9pbiIsIm1rZHRlbXAiLCJjcCIsInJtIiwiY3JlYXRlUmVwb3NpdG9yeSIsInNldHVwQWN0aW9uIiwicnVuIiwiZml4dHVyZURpciIsIl9fZGlybmFtZSIsImFjdGlvbkZvbGRlciIsInJlcG9zaXRvcnlQYXRoIiwicmVjdXJzaXZlIiwicHJvamVjdERpciIsImV4ZWN1dGVBY3Rpb24iLCJlcnJvciIsImNvbnNvbGUiXSwic291cmNlcyI6WyJleGVjdXRlQWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5jb25zdCB7IHRtcGRpciB9ID0gcmVxdWlyZSgnb3MnKVxuY29uc3QgeyBqb2luIH0gPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IHsgbWtkdGVtcCwgY3AsIHJtIH0gPSByZXF1aXJlKCdmcy9wcm9taXNlcycpXG5cbmNvbnN0IHsgY3JlYXRlUmVwb3NpdG9yeSwgc2V0dXBBY3Rpb24gfSA9IHJlcXVpcmUoJy4vaGVscGVyLmpzJylcblxuYXN5bmMgZnVuY3Rpb24gcnVuICgpIHtcbiAgY29uc3QgZml4dHVyZURpciA9IGpvaW4oX19kaXJuYW1lLCAnZml4dHVyZXMnLCAncmVwb3NpdG9yeScpXG5cbiAgY29uc3QgYWN0aW9uRm9sZGVyID0gYXdhaXQgbWtkdGVtcChqb2luKHRtcGRpcigpLCAnYWN0aW9uX2Vudl8nKSlcbiAgY29uc3QgcmVwb3NpdG9yeVBhdGggPSBhd2FpdCBta2R0ZW1wKGpvaW4oYWN0aW9uRm9sZGVyLCAncmVwb3NpdG9yeScpKVxuICBhd2FpdCBjcChmaXh0dXJlRGlyLCByZXBvc2l0b3J5UGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSlcblxuICBhd2FpdCBjcmVhdGVSZXBvc2l0b3J5KGFjdGlvbkZvbGRlcilcbiAgc2V0dXBBY3Rpb24oeyBwcm9qZWN0RGlyOiByZXBvc2l0b3J5UGF0aCB9KVxuXG4gIHRyeSB7XG4gICAgY29uc3QgZXhlY3V0ZUFjdGlvbiA9IHJlcXVpcmUoJy4uL2FjdGlvbi5qcycpXG4gICAgYXdhaXQgZXhlY3V0ZUFjdGlvbigpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcilcbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCBybShhY3Rpb25Gb2xkZXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXG4gIH1cbn1cblxucnVuKClcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSx3dURBZUE7QUFBQSwyRkFiWixLQUFNLENBQUVBLE1BQU8sQ0FBQywwQkFBR0MsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUNoQyxLQUFNLENBQUVDLElBQUssQ0FBQywwQkFBR0QsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUNoQyxLQUFNLENBQUVFLE9BQU8sQ0FBRUMsRUFBRSxDQUFFQyxFQUFHLENBQUMsMEJBQUdKLE9BQU8sQ0FBQyxhQUFhLENBQUMsRUFFbEQsS0FBTSxDQUFFSyxnQkFBZ0IsQ0FBRUMsV0FBWSxDQUFDLDBCQUFHTixPQUFPLENBQUMsYUFBYSxDQUFDLEVBRWhFLGNBQWVPLElBQUcsRUFBSSx5QkFDcEIsS0FBTUMsV0FBVSwwQkFBR1AsSUFBSSxDQUFDUSxTQUFTLENBQUUsVUFBVSxDQUFFLFlBQVksQ0FBQyxFQUU1RCxLQUFNQyxhQUFZLDBCQUFHLEtBQU1SLFFBQU8sQ0FBQ0QsSUFBSSxDQUFDRixNQUFNLEVBQUUsQ0FBRSxhQUFhLENBQUMsQ0FBQyxFQUNqRSxLQUFNWSxlQUFjLDBCQUFHLEtBQU1ULFFBQU8sQ0FBQ0QsSUFBSSxDQUFDUyxZQUFZLENBQUUsWUFBWSxDQUFDLENBQUMsMEJBQ3RFLEtBQU1QLEdBQUUsQ0FBQ0ssVUFBVSxDQUFFRyxjQUFjLENBQUUsQ0FBRUMsU0FBUyxDQUFFLElBQUssQ0FBQyxDQUFDLHlCQUV6RCxLQUFNUCxpQkFBZ0IsQ0FBQ0ssWUFBWSxDQUFDLHlCQUNwQ0osV0FBVyxDQUFDLENBQUVPLFVBQVUsQ0FBRUYsY0FBZSxDQUFDLENBQUMsMEJBRTNDLEdBQUksQ0FDRixLQUFNRyxjQUFhLDJCQUFHZCxPQUFPLENBQUMsY0FBYyxDQUFDLDJCQUM3QyxLQUFNYyxjQUFhLEVBQUUsQ0FDdkIsQ0FBRSxNQUFPQyxLQUFLLENBQUUsMEJBQ2RDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDQSxLQUFLLENBQUMsQ0FDdEIsQ0FBQyxPQUFTLDBCQUNSLEtBQU1YLEdBQUUsQ0FBQ00sWUFBWSxDQUFFLENBQUVFLFNBQVMsQ0FBRSxJQUFLLENBQUMsQ0FBQyxDQUM3QyxDQUNGLENBQUMseUJBRURMLEdBQUcsRUFBRSJ9